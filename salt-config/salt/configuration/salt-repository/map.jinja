{% set saltrepo = salt['grains.filter_by']({
    'CentOS': {
    },
    'Debian': {
        'oscodename': salt['grains.get']('oscodename'),

        'mirror': salt['pillar.get']('configuration:repos:salt:url',
        'http://repo.saltstack.com/apt/ubuntu/16.04/amd64/latest/'),

        'key': salt['pillar.get']('configuration:repos:salt:key', 
        'http://repo.saltstack.com/apt/ubuntu/16.04/amd64/latest/SALTSTACK-GPG-KEY.pub'),
    },

    'OpenBSD': {
    },

    'RedHat': {
    },

    'Ubuntu': {
        'oscodename': salt['grains.get']('oscodename'),

        'mirror': salt['pillar.get']('configuration:repos:salt:url',
        'http://repo.saltstack.com/apt/ubuntu/16.04/amd64/latest/'),

        'key': salt['pillar.get']('configuration:repos:salt:key', 
        'http://repo.saltstack.com/apt/ubuntu/16.04/amd64/latest/SALTSTACK-GPG-KEY.pub'),
    },
}, merge=salt['pillar.get']('saltrepo:lookup'))%}
